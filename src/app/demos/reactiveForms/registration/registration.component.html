<div class="container main-container my-5">
    <h4 class="pt-3">Demo Register</h4>
    <hr>
    <form novalidate (ngSubmit)="addUser()" [formGroup]="registerForm">
        <div class="form-group">
            <label class="col-md-2 control-label" for="name">Full Name:</label>
            <div class="col-md-10">
                <input formControlName="name" class="form-control" id="name" type="text" placeholder="Insert your name (Required)" 
                [ngClass]="{'is-valid': (!propIsValid('name') && registerForm.get('name')?.dirty),'is-invalid': propIsValid('name') }">
                
            <span  class="text-danger" *ngIf="propIsValid('name')">
                <p>Fill the name field</p>
            </span>
            </div>
        </div>

        <div class="form-group">
            <label class="col-md-2 control-label" for="document">Document:</label>
            <div class="col-md-10">
                <input formControlName="document" class="form-control" id="document" type="text" placeholder="Insert your Document (Required)" cpf [mask]="'000.000.000-00'">
                <span  class="text-danger" *ngIf="propIsValid('document') && registerForm.get('document')?.hasError('cpf')">
                    <p>Invalid value to the document field</p>
                </span>
            </div>
        </div>

        <div class="form-group">
            <label class="col-md-2 control-label" for="email">E-mail:</label>
            <div class="col-md-10">
                <input formControlName="email" class="form-control" id="email" type="text" placeholder="Insert your E-mail (Required)" 
                [ngClass]="{'is-invalid': propIsValid('email') }">
                
            <span  class="text-danger" *ngIf="propIsValid('email') && registerForm.get('email')?.hasError('required')">
                <p>Fill the e-mail field</p>
            </span>
            <span  class="text-danger" *ngIf="propIsValid('email') && registerForm.get('email')?.hasError('email')">
                <p>Invalid value for the e-mail field</p>
            </span>

            </div>
        </div>

        <div class="form-group">
            <label class="col-md-2 control-label" for="password">Password:</label>
            <div class="col-md-10">
                <input formControlName="password" class="form-control" id="password" type="text" placeholder="Insert your password (Required)" >
            </div>
        </div>

        <div class="form-group">
            <label class="col-md-2 control-label" for="passwordConfirm">Password Confirm:</label>
            <div class="col-md-10">
                <input formControlName="passwordConfirm" class="form-control" id="passwordConfirm" type="text" placeholder="Insert your password (Required)" >
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-4 col-md-offset-2">
                <span><button class="btn btn-success" id="register" [disabled]="!registerForm.valid" type="submit">Register</button></span>
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-4 col-md-offset-2">
                <p>Valid User? {{registerForm.valid}}</p>
                <p>Valid Touched? {{registerForm.touched}}</p>
                <p>Valid Dirty? {{registerForm.dirty}}</p><br>
                <p>Form Json? {{formResult}}</p>
            </div>
        </div>

    </form>
</div>